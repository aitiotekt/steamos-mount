# steamos-mount å·¥å…·è®¾è®¡æ–‡æ¡£

[English](SOFTWARE_DESIGN.md)

æœ¬æ–‡æ¡£è¯¦ç»†æè¿°äº† steamos-mount å·¥å…·çš„è®¾è®¡æ€è·¯ã€æŠ€æœ¯æ¶æ„åŠæ ¸å¿ƒå®ç°ç»†èŠ‚ã€‚æœ¬é¡¹ç›®æ—¨åœ¨è§£å†³ SteamOS ç”¨æˆ·åœ¨æ¸¸æˆæ¨¡å¼ä¸‹æŒ‚è½½ NTFS/exFAT ç£ç›˜å¹¶å°†å…¶è¯†åˆ«ä¸º Steam æ¸¸æˆåº“çš„ç—›ç‚¹ï¼Œé‡ç‚¹å…³æ³¨**äººä½“å·¥ç¨‹å­¦ï¼ˆErgonomicsï¼‰**ã€**å®‰å…¨æ€§**å’Œ**è‡ªåŠ¨åŒ–ä½“éªŒ**ã€‚

## 1. è®¾è®¡ç›®æ ‡ä¸åŸåˆ™

- **äººä½“å·¥ç¨‹å­¦ä¼˜å…ˆ (Ergonomics First)**ï¼šé€šè¿‡æ™ºèƒ½é¢„è®¾ï¼ˆPresetsï¼‰éšè—å¤æ‚çš„ Linux æŒ‚è½½å‚æ•°ï¼Œè®©éæŠ€æœ¯ç”¨æˆ·ä¹Ÿèƒ½è½»æ¾é…ç½®ã€‚
- **Backend First æ¶æ„**ï¼šæ ¸å¿ƒé€»è¾‘ä¸ UI è§£è€¦ï¼Œé€šè¿‡ç»Ÿä¸€çš„ Core Binary æ”¯æŒ TUIã€GUI (Desktop) å’Œ Decky Plugin (Game Mode) å¤šç§å‰ç«¯ã€‚
- **å®‰å…¨æ€§ä¸ç¨³å®šæ€§**ï¼š
  - ä½¿ç”¨ Rust ç¼–å†™æ ¸å¿ƒé€»è¾‘ä»¥ç¡®ä¿å†…å­˜å®‰å…¨ã€‚
  - å¯¹ `/etc/fstab` çš„ä¿®æ”¹å¿…é¡»æ˜¯å¹‚ç­‰çš„ï¼ˆIdempotentï¼‰ä¸”åŒ…å«å¤‡ä»½æœºåˆ¶ã€‚
  - æ™ºèƒ½å¤„ç†â€œè„ç›˜â€çŠ¶æ€ï¼Œé˜²æ­¢æ•°æ®æŸåã€‚
- **SteamOS åŸç”Ÿå…¼å®¹**ï¼šéµå¾ª SteamOS çš„ä¸å¯å˜æ–‡ä»¶ç³»ç»Ÿç‰¹æ€§ï¼Œåˆ©ç”¨ `/home` ç›®å½•å’Œ Systemd æœºåˆ¶å®ç°æŒä¹…åŒ–ã€‚

---

## 2. è½¯ä»¶æ¶æ„è®¾è®¡

é‡‡ç”¨ **Core-Client** åˆ†ç¦»æ¶æ„ï¼Œæ ¸å¿ƒé€»è¾‘ä¸‹æ²‰ï¼ŒUI å±‚åªè´Ÿè´£å±•ç¤ºå’Œäº¤äº’ã€‚

### 2.1 æŠ€æœ¯æ ˆ

- **æ ¸å¿ƒåº“ + CLI**: `Rust`
  - **èŒè´£**: ç£ç›˜æ‰«æ (`lsblk`)ã€Fstab è§£æä¸å†™å…¥ã€`ntfsfix` ä¿®å¤ã€Steam VDF æ³¨å…¥ã€Systemd æ§åˆ¶ã€‚
  - **ä¼˜åŠ¿**: é«˜æ€§èƒ½ã€ç±»å‹å®‰å…¨ã€æ˜“äºè·¨è¿›ç¨‹è°ƒç”¨ã€‚
- **TUI (ç»ˆç«¯ç•Œé¢)**: `Rust` + `Ratatui`
  - **åœºæ™¯**: SSH è¿œç¨‹ç®¡ç†ã€Konsoleã€ä»¥åŠ Decky æ’ä»¶å†…çš„ç»ˆç«¯ä¿åº•æ–¹æ¡ˆã€‚
- **Game Mode GUI**: `Python` (Decky Backend) + `React` (Frontend)
  - **åœºæ™¯**: æ¸¸æˆæ¨¡å¼ä¸‹çš„åŸç”Ÿä½“éªŒï¼Œé€šè¿‡ `install.sh` ä¸‹è½½ `steamos-mount-cli` è¿›è¡Œäº¤äº’ï¼ˆDecky CI ç¼ºå°‘ Rust å·¥å…·é“¾ï¼‰ã€‚
- **Desktop Mode GUI**: `Rust` + `Tauri`
  - **åœºæ™¯**: æ¡Œé¢æ¨¡å¼ä¸‹çš„å®Œæ•´é…ç½®å·¥å…·ï¼ŒUI ç»„ä»¶æœ¬åœ°ç»´æŠ¤ï¼ˆä¸ä¸ Decky å…±äº«ï¼‰ã€‚

```plaintext
steamos-mount/
â”œâ”€â”€ .git/
â”œâ”€â”€ .gitignore
â”œâ”€â”€ mise.toml                  # [æ€»ç®¡] ç¯å¢ƒç®¡ç†
â”œâ”€â”€ Cargo.toml                 # [Rust Workspace] èšåˆæ‰€æœ‰æ•£è½çš„ Cargo.toml
â”œâ”€â”€ pnpm-workspace.yaml        # [JS Workspace] èšåˆæ‰€æœ‰ package.json
â”œâ”€â”€ pyproject.toml             # [Python Workspace] èšåˆæ‰€æœ‰æ•£è½çš„ pyproject.toml
â”œâ”€â”€ apps/                      # [å¯æ‰§è¡Œåº”ç”¨å±‚]
â”‚   â”œâ”€â”€ cli/                   # å‘½ä»¤è¡Œå·¥å…·
â”‚   â”œâ”€â”€ tauri-app/             # æ¡Œé¢ç«¯ GUI
â”‚   â”‚   â”œâ”€â”€ src-tauri/         # [Rust] ä¾èµ– packages/core
â”‚   â”‚   â””â”€â”€ src/               # [React] æœ¬åœ° UI ç»„ä»¶ï¼ˆä¸ä¸ Decky å…±äº«ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ decky-plugin/          # æ¸¸æˆæ¨¡å¼æ’ä»¶
â”‚   â”‚   â”œâ”€â”€ src/               # [React] å‰ç«¯ UI
â”‚   â”‚   â””â”€â”€ py_modules/        # [Python] Decky çš„ Python å…¥å£
â”‚   â”‚
â”‚   â””â”€â”€ tui-app/               # [Rust] çº¯ç»ˆç«¯ç•Œé¢åº”ç”¨
â”‚       â””â”€â”€ src/               # ä¾èµ– packages/core
â”‚
â””â”€â”€ packages/                  # [å…±äº«åº“å±‚]
    â””â”€â”€ core/                  # [Rust] æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ (lsblk, fstab, mount)
```

### 2.2 æ•°æ®æµ

1.  **æ‰«æ**: Core è°ƒç”¨ `lsblk` è·å– JSON æ ¼å¼çš„ç£ç›˜ä¿¡æ¯ï¼ˆåŒ…æ‹¬ ROTA, TRAN, RM ç­‰ç‰©ç†å±æ€§ï¼‰ã€‚
2.  **å‘ˆç°**: UI è¯»å– Core è¿”å›çš„ç»“æ„åŒ–æ•°æ®ï¼ˆåŒ…å« Label, UUID, FSTYPE, MOUNTPOINT, ROTA, TRAN, REMOVABLEï¼‰ã€‚
3.  **é…ç½®**: UI å‘ Core è¯·æ±‚æŒ‚è½½å»ºè®®ã€‚Core åˆ†æè®¾å¤‡å±æ€§ä»¥æ¨èè¿æ¥ç±»å‹å’Œä»‹è´¨ç±»å‹ã€‚ç”¨æˆ·ç¡®è®¤æˆ–å¾®è°ƒå‚æ•°ã€‚
4.  **æ‰§è¡Œ**: Core æ¥æ”¶æŒ‡ä»¤ -> å¤‡ä»½ fstab -> å†™å…¥ fstab -> é‡è½½ Systemd -> æŒ‚è½½ -> (å¯é€‰) æ³¨å…¥ Steam åº“ -> é‡å¯ UIã€‚

### 2.3 ä»“åº“è¯´æ˜ï¼ˆå¼€å‘è€…ï¼‰

- **ä¸»ä»“åº“**ï¼šhttps://github.com/aitiotekt/steamos-mount
- **Decky subtree ä»“åº“**ï¼šhttps://github.com/aitiotekt/steamos-mount-decky
- **ä½¿ç”¨ subtree çš„åŸå› **ï¼šdecky-plugin-database çš„ submodules åªèƒ½æŒ‡å‘ä»“åº“æ ¹ç›®å½•ï¼Œå› æ­¤ Decky æ’ä»¶ä»¥ git subtree åŒæ­¥ã€‚
- **UI ç»„ä»¶**ï¼šTauri ä¸ Decky çš„ UI ä¸å…±äº«ç»„ä»¶åº“ï¼Œåˆ†åˆ«ç»´æŠ¤ã€‚

---

## 3. æ ¸å¿ƒæ–¹æ¡ˆç»†èŠ‚

### 3.1 æŒ‚è½½ç‚¹ç­–ç•¥

- **è·¯å¾„è§„èŒƒ**: ç»Ÿä¸€ä½¿ç”¨ `/home/deck/Drives/<Label_or_UUID>`
  - **ä¸ºä½•ä¸é€‰ `/mnt`**: ç³»ç»Ÿæ›´æ–°ä¼šæ¸…ç©º `/mnt`ï¼Œå¯¼è‡´æŒ‚è½½ç‚¹ä¸¢å¤±ã€‚
  - **ä¸ºä½•ä¸é€‰ `/run/media`**: è¿™æ˜¯ `udisks2` çš„åŠ¨æ€æŒ‚è½½ç›®å½•ï¼Œä¸”ä¸º tmpfsï¼ˆå†…å­˜ç›˜ï¼‰ï¼Œæ— æ³•é…åˆ fstab å®ç°æŒä¹…åŒ–ï¼Œä¸”å®¹æ˜“äº§ç”Ÿæƒé™å†²çªã€‚
  - **ä¼˜åŠ¿**: `/home` åˆ†åŒºåœ¨ SteamOS å‡çº§ä¸­ä¿ç•™ï¼Œä¸” Flatpak åº”ç”¨é»˜è®¤æœ‰è®¿é—®æƒé™ã€‚
  - **å†²çªå¤„ç†**: å¦‚æœ Label ä¸ºç©ºæˆ–é‡å¤ï¼Œè‡ªåŠ¨é™çº§ä½¿ç”¨ UUID å‰ 8 ä½ä½œä¸ºç›®å½•åã€‚

### 3.2 ç£ç›˜æ ‡è¯†ç¬¦

- **æ¨èç­–ç•¥**: æä¾› UUID å’Œ PARTUUID ä¸¤ç§é€‰æ‹©ï¼Œå¹¶åœ¨ UI ä¸­æä¾›è¯´æ˜ã€‚
  - **UUID (é»˜è®¤æ¨è)**: ç»‘å®šäºæ–‡ä»¶ç³»ç»Ÿã€‚æ ¼å¼åŒ–åå¤±æ•ˆï¼Œä½†ç§»åŠ¨åˆ†åŒºä½ç½®ä¸å¤±æ•ˆã€‚é€‚åˆå¤§å¤šæ•°ç”¨æˆ·ã€‚
  - **PARTUUID**: ç»‘å®šäºåˆ†åŒºè¡¨ã€‚æ ¼å¼åŒ–æ–‡ä»¶ç³»ç»Ÿåä¾ç„¶æœ‰æ•ˆï¼ˆåªè¦ä¸åˆ åˆ†åŒºï¼‰ã€‚é€‚åˆé«˜çº§ç”¨æˆ·ã€‚
  - **æ³¨æ„**: å†™å…¥é…ç½®æ—¶åº”è¯¥ä¼˜å…ˆéµå®ˆ blkid çš„å€¼ï¼Œå¹¶ä¸”å¿…é¡»æ£€æŸ¥ `/dev/disk/by-uuid/<UUID>` æˆ–è€… `/dev/disk/by-partuuid/<PARTUUID>` æ˜¯å¦å­˜åœ¨ï¼Œä»¥å…¼å®¹ `/dev/disk/by-uuid/` å’Œ `/dev/disk/by-partuuid/` è·¯å¾„æŸ¥æ‰¾ã€‚

### 3.3 æ–‡ä»¶ç³»ç»Ÿå‚æ•°ä¸é¢„è®¾ (Presets)

å·¥å…·åº”è¯¥é¦–å…ˆæä¾›åŸºäºæ ¹æ®æ–‡ä»¶ç³»ç»Ÿã€è®¾å¤‡ä»‹è´¨ã€ä½¿ç”¨åœºæ™¯çš„é¢„è®¾ï¼›ä½†é«˜çº§ç”¨æˆ·å¯ä»¥æ‰‹åŠ¨å¾®è°ƒå‚æ•°ï¼Œæ¯”å¦‚å¼€å…³æŸä¸ªé€‰é¡¹ã€è°ƒæ•´å‚æ•°å€¼ç­‰ã€‚

#### é€šç”¨é…ç½®

- `uid=1000,gid=1000`: å¼ºåˆ¶å°†æ‰€æœ‰æƒæ˜ å°„ç»™ `deck` ç”¨æˆ·ï¼Œè§£å†³ NTFS/exFAT ä¸æ”¯æŒ POSIX æƒé™å¯¼è‡´ Steam æ— æ³•å†™å…¥çš„é—®é¢˜ã€‚
- `umask=000`: ç»™äºˆ 777 æƒé™ï¼Œç¡®ä¿ Proton å…¼å®¹å±‚æ— æƒé™é˜»ç¢ã€‚
- `nofail`: æŒ‚è½½å¤±è´¥æ—¶ä¸é˜»å¡ç³»ç»Ÿå¯åŠ¨ã€‚
- `rw,noatime`: å‡å°‘å…ƒæ•°æ®å†™å…¥ã€‚

#### æ–‡ä»¶ç³»ç»Ÿé¢„è®¾ï¼š

æ–‡ä»¶ç³»ç»Ÿï¼šntfs

- `ntfs3`: ä½¿ç”¨å†…æ ¸é©±åŠ¨ï¼Œé«˜æ€§èƒ½ã€‚
- `prealloc`: (ä»… NTFS) é¢„åˆ†é…ç©ºé—´ï¼Œå‡å°‘ç¢ç‰‡ï¼Œä¼˜åŒ–å¤§å‹æ¸¸æˆä¸‹è½½ã€‚

æ–‡ä»¶ç³»ç»Ÿï¼šexfat

- `exfat`: ä½¿ç”¨ exFAT é©±åŠ¨

#### è®¾å¤‡ä»‹è´¨é¢„è®¾

è®¾å¤‡ä»‹è´¨ï¼šé—ªå­˜

- `discard`: å¼€å¯ TRIMï¼Œå»¶é•¿ SSD å¯¿å‘½ã€‚

è®¾å¤‡ä»‹è´¨ï¼šæœºæ¢°ç¡¬ç›˜

æš‚æ— é¢å¤–

#### å›ºå®š/å¯æ‹”æ’è®¾å¤‡ç±»å‹é¢„è®¾ï¼š

è®¾å¤‡ç±»å‹ï¼šå›ºå®šè®¾å¤‡

- **åœºæ™¯**: å†…ç½®è®¾å¤‡æˆ–é•¿æœŸè¿æ¥çš„è®¾å¤‡ã€‚
- **å‚æ•°**:
  - `x-systemd.device-timeout=3s`: å¿«é€Ÿè·³è¿‡ä¸å­˜åœ¨çš„è®¾å¤‡ã€‚

è®¾å¤‡ç±»å‹ï¼šå¯æ‹”æ’è®¾å¤‡

- **åœºæ™¯**: éœ€è¦é¢‘ç¹æ’æ‹”çš„è®¾å¤‡ã€‚
- **å‚æ•°**:
  - `noauto`: **å…³é”®**ã€‚å¼€æœºæ—¶ä¸æŒ‚è½½ï¼Œé¿å…é˜»å¡ã€‚
  - `x-systemd.automount`: **å…³é”®**ã€‚å½“è®¿é—®æŒ‚è½½ç‚¹æ—¶ï¼ˆå¦‚ Steam æ‰«æåº“ï¼‰æ‰è§¦å‘æŒ‚è½½ã€‚
  - `x-systemd.idle-timeout=60s`: (å¯é€‰) æ— è¯»å†™ 60s åè‡ªåŠ¨å¸è½½ï¼Œé™ä½ç›´æ¥æ‹”å¡å¯¼è‡´è„ç›˜çš„é£é™©ã€‚

### 3.4 "è„ç›˜" (Dirty Volume) å¤„ç†

è¿™æ˜¯æå‡äººä½“å·¥ç¨‹å­¦çš„å…³é”®ç‚¹ã€‚NTFS é©±åŠ¨åœ¨æ£€æµ‹åˆ° Dirty Bitï¼ˆé€šå¸¸ç”± Windows å¿«é€Ÿå¯åŠ¨æˆ–å¼ºåˆ¶å…³æœºå¯¼è‡´ï¼‰æ—¶ä¼šæ‹’ç»æŒ‚è½½ã€‚

- **ç­–ç•¥**:
  1.  Core å°è¯•æŒ‚è½½ -> å¤±è´¥ã€‚
  2.  Core è¯»å– `dmesg` æŸ¥æ‰¾å…³é”®è¯ (`volume is dirty`, `force flag is not set`)ã€‚
  3.  **UI åé¦ˆ**: å¼¹çª—æç¤ºç”¨æˆ·â€œæ£€æµ‹åˆ°ç£ç›˜æœªå®‰å…¨ç§»é™¤ï¼Œæ˜¯å¦å°è¯•ä¿®å¤ï¼Ÿâ€ã€‚
  4.  **ä¿®å¤**: ç”¨æˆ·ç¡®è®¤åï¼Œè°ƒç”¨ `ntfsfix -d /dev/disk/by-uuid/<UUID>` æ¸…é™¤è„æ ‡è®°ã€‚
  5.  **é‡è¯•**: ä¿®å¤æˆåŠŸåè‡ªåŠ¨é‡è¯•æŒ‚è½½ã€‚
  6.  **é”™è¯¯å¤„ç†**: å¦‚æœä¿®å¤å¤±è´¥ï¼ŒCore ä¼šè®°å½•é”™è¯¯æ—¥å¿—ï¼ŒUI å¯ä»¥æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼Œå»ºè®®ç”¨æˆ·å›åˆ° windows ä½¿ç”¨ `chkdsk` å·¥å…·ä¿®å¤ã€‚
- **è­¦å‘Š**: `force` å‚æ•°è™½ç„¶èƒ½å¼ºè¡ŒæŒ‚è½½ï¼Œä½†ææ˜“å¯¼è‡´æ•°æ®æŸåï¼Œæœ¬é¡¹ç›®**ä¸¥ç¦**é»˜è®¤ä½¿ç”¨ `force`ï¼Œå¿…é¡»é€šè¿‡ä¿®å¤æµç¨‹è§£å†³ã€‚

### 3.5 ææƒä¼šè¯æ¨¡å¼ (Privilege Escalation Session)

å•æ¬¡ç”¨æˆ·æ“ä½œæ¶‰åŠå¤šä¸ªææƒå‘½ä»¤ï¼ˆæŒ‚è½½ã€fstab å†™å…¥ã€systemd é‡è½½ï¼‰æ—¶ï¼Œé€šå¸¸éœ€è¦å¤šæ¬¡è®¤è¯æç¤ºã€‚Session æ¨¡å¼é€šè¿‡å¯åŠ¨å•ä¸ªææƒ daemon è¿›ç¨‹è§£å†³æ­¤é—®é¢˜ã€‚

#### æ¶æ„

```mermaid
flowchart LR
    subgraph MainProcess[ä¸»è¿›ç¨‹]
        EC[ExecutionContext]
        PS[PrivilegedSession]
    end

    subgraph ChildProcess["pkexec/sudo steamos-mount-cli daemon"]
        Daemon[CLI Daemon]
    end

    EC --> PS
    PS -- "stdin: JSON è¯·æ±‚" --> Daemon
    Daemon -- "stdout: JSON å“åº”" --> PS
```

#### å·¥ä½œæµç¨‹

```mermaid
sequenceDiagram
    participant Main as ä¸»è¿›ç¨‹
    participant Session as PrivilegedSession
    participant Daemon as steamos-mount-cli daemon

    Main->>Session: with_pkexec_session()
    Note over Session: å»¶è¿Ÿåˆå§‹åŒ–
    Main->>Session: run_privileged("mount", args)
    Session->>Daemon: pkexec steamos-mount-cli daemon
    Note over Daemon: ç”¨æˆ·è®¤è¯ä¸€æ¬¡
    Session->>Daemon: {"cmd":"exec","program":"mount"...}
    Daemon->>Session: {"success":true,"exit_code":0...}
    Main->>Session: run_privileged("systemctl", args)
    Session->>Daemon: {"cmd":"exec","program":"systemctl"...}
    Daemon->>Session: {"success":true...}
    Note over Session: æ— éœ€å†æ¬¡è®¤è¯
```

#### é€šä¿¡åè®®

é€šè¿‡ stdin/stdout çš„ JSON-RPC é£æ ¼é€šä¿¡ï¼š

```json
// è¯·æ±‚ç±»å‹
{"cmd":"exec","id":1,"program":"mount","args":["/dev/sda1","/mnt"]}
{"cmd":"write_file","id":2,"path":"/etc/fstab","content":"..."}
{"cmd":"copy_file","id":3,"src":"/etc/fstab","dst":"/etc/fstab.bak"}
{"cmd":"mkdir_p","id":4,"path":"/home/deck/Drives/GamesSSD"}
{"cmd":"shutdown"}

// å“åº”
{"id":1,"success":true,"exit_code":0,"stdout":"","stderr":""}
```

#### å­¤å„¿è¿›ç¨‹é˜²æŠ¤

Daemon åœ¨ Linux ä¸Šä½¿ç”¨ `prctl(PR_SET_PDEATHSIG, SIGTERM)`ï¼Œåœ¨çˆ¶è¿›ç¨‹æ­»äº¡æ—¶æ¥æ”¶ SIGTERM ä¿¡å·ï¼Œç¡®ä¿è‡ªåŠ¨æ¸…ç†ã€‚

#### å®‰å…¨æœºåˆ¶

> [!IMPORTANT]
> Daemon å®ç°äº†åŠ å¯†ç­¾åä»¥é˜²æ­¢é€šè¿‡ `/proc/PID/fd` è®¿é—®è¿›è¡Œçš„æœªæˆæƒææƒã€‚

**å¨èƒæ¨¡å‹**ï¼šå…·æœ‰ç›¸åŒç”¨æˆ·æƒé™çš„æ¶æ„è¿›ç¨‹å¯èƒ½é€šè¿‡ `/proc/PID/fd` è®¿é—® daemon çš„ stdin/stdout ç®¡é“ï¼Œä»è€Œç»•è¿‡åˆå§‹ `pkexec` è®¤è¯ã€‚

**ç¼“è§£æªæ–½**ï¼š

1. **æ¡æ‰‹ä¸å¯†é’¥äº¤æ¢**ï¼š
   - Daemon åœ¨å¯åŠ¨æ—¶ç”Ÿæˆ 32 å­—èŠ‚éšæœºå¯†é’¥
   - å¯†é’¥é€šè¿‡ stdout å‘é€ç»™çˆ¶è¿›ç¨‹ï¼ˆåªæœ‰çˆ¶è¿›ç¨‹æŒæœ‰ç®¡é“ï¼‰
2. **HMAC-SHA256 ç­¾åè¯·æ±‚**ï¼š

   ```json
   {"id":1,"hmac":"a1b2c3...","cmd":"exec","program":"mount",...}
   ```

   - ç­¾åï¼š`HMAC-SHA256(secret, id || cmd_json)`
   - Daemon æ‹’ç»ç­¾åæ— æ•ˆçš„è¯·æ±‚

3. **é˜²é‡æ”¾ä¿æŠ¤**ï¼š
   - è¯·æ±‚ ID å¿…é¡»å•è°ƒé€’å¢
   - Daemon è·Ÿè¸ªæœ€åçœ‹åˆ°çš„ IDï¼Œæ‹’ç» `id <= last_id` çš„è¯·æ±‚

## 4. é…ç½®æ–‡ä»¶ç®¡ç† (`/etc/fstab`)

è™½ç„¶ `/etc` æ˜¯ç³»ç»Ÿç›®å½•ï¼Œä½†åœ¨ SteamOS ä¸­ `fstab` ä¼šè¢«è¿ç§»ä¿ç•™ã€‚

### 4.1 å†™å…¥è§„èŒƒ

å·¥å…·ç®¡ç†çš„æ¡ç›®å¿…é¡»åŒ…å«ç‰¹æ®Šæ³¨é‡Šæ ‡è®°ï¼Œä»¥ä¾¿äºç¨‹åºè¯†åˆ«å’Œæ›´æ–°ï¼ŒåŒæ—¶ä¸ç ´åç”¨æˆ·æ‰‹åŠ¨æ·»åŠ çš„æ¡ç›®ã€‚

```fstab
# /etc/fstab

# ... ç³»ç»ŸåŸæœ‰é…ç½® ...

# BEGIN STEAMOS-MOUNT-MANAGED
# Created by SteamOS Mount Tool. DO NOT EDIT THIS BLOCK MANUALLY.
UUID=1234-5678  /home/deck/Drives/GamesSSD  ntfs3  uid=1000,gid=1000,rw,umask=000,discard,prealloc,nofail  0  0
# END STEAMOS-MOUNT-MANAGED
```

- **FSCK é€‰é¡¹**: è®¾ç½®ä¸º `0 0`ã€‚Linux ä¸‹å¯¹ NTFS çš„ fsck æ”¯æŒæå·®ï¼Œå¼€å¯æ£€æŸ¥ä¼šå¯¼è‡´å¯åŠ¨å¡æ­»ï¼ˆdependency failedï¼‰ã€‚

---

## 5. Steam æ¸¸æˆåº“æ³¨å…¥

æŒ‚è½½æˆåŠŸåï¼Œéœ€è¦è®© Steam è¯†åˆ«è¯¥è·¯å¾„ã€‚æ¡Œé¢æ¨¡å¼åº”ç”¨æä¾›ä¸‰ç§æ‰§è¡Œæ¨¡å¼ä¾›ç”¨æˆ·é€‰æ‹©ã€‚

### 5.1 åº“è·¯å¾„é…ç½®

åœ¨æ³¨å…¥å‰ï¼Œç”¨æˆ·å¯ä»¥ä¸ºæ¯ä¸ªæŒ‚è½½çš„é©±åŠ¨å™¨é…ç½® Steam åº“è·¯å¾„ï¼š

- **é»˜è®¤è·¯å¾„**: `{æŒ‚è½½ç‚¹}/SteamLibrary`ï¼ˆæ¨èï¼‰
- **è‡ªå®šä¹‰è·¯å¾„**: ç”¨æˆ·æŒ‡å®šçš„å­ç›®å½•

### 5.2 æ‰§è¡Œæ¨¡å¼

#### æ¨¡å¼ 1: è‡ªåŠ¨æ‰§è¡Œï¼ˆæ¨èï¼‰

å®Œå…¨è‡ªåŠ¨åŒ–çš„ VDF ä¿®æ”¹ï¼Œå¹¶æ¢å¤ Steam çŠ¶æ€ã€‚

- **æ–‡ä»¶è·¯å¾„**: `~/.local/share/Steam/steamapps/libraryfolders.vdf`
- **æµç¨‹**:
  1.  è®°å½•å½“å‰ Steam è¿è¡ŒçŠ¶æ€ (`pgrep -x steam`)ã€‚
  2.  è°ƒç”¨ `steam --shutdown` ä¼˜é›…å…³é—­ Steam å¹¶ç­‰å¾…è¿›ç¨‹ç»“æŸã€‚
  3.  è§£æ VDF æ–‡ä»¶ï¼Œè®¡ç®—ä¸‹ä¸€ä¸ªå¯ç”¨çš„ `LibraryID`ï¼ˆæ•°å­—å­—ç¬¦ä¸²ï¼‰ã€‚
  4.  æ³¨å…¥æ–°çš„åº“æ¡ç›®ï¼š
      ```json
      "{NEXTID}" {
          "path" "{åº“è·¯å¾„}"
          "label" ""
          "contentid" "0"
          "totalsize" "0"
          "apps" {}
      }
      ```
  5.  å¦‚æœ Steam ä¹‹å‰æ­£åœ¨è¿è¡Œï¼Œé€šè¿‡ `steam &` é‡æ–°å¯åŠ¨ã€‚
- **ä¼˜åŠ¿**: æ— éœ€æ‰‹åŠ¨å¹²é¢„ã€‚

#### æ¨¡å¼ 2: åŠè‡ªåŠ¨æ‰§è¡Œ

æ‰“å¼€ Steam è®¾ç½®ï¼Œç”±ç”¨æˆ·å¼•å¯¼å¼æ‰‹åŠ¨æ·»åŠ ã€‚

- **æµç¨‹**:
  1.  è°ƒç”¨ `steam steam://open/settings/storage` æ‰“å¼€å­˜å‚¨è®¾ç½®ã€‚
  2.  UI å°†æŒ‚è½½è·¯å¾„å¤åˆ¶åˆ°å‰ªè´´æ¿ä»¥ä¾¿ç²˜è´´ã€‚
  3.  ç”¨æˆ·æ‰‹åŠ¨ç‚¹å‡» `+` æ·»åŠ åº“æ–‡ä»¶å¤¹ã€‚
- **ä¼˜åŠ¿**: æ— éœ€é‡å¯ Steamï¼Œç”¨æˆ·ä¿æŒå®Œå…¨æ§åˆ¶ã€‚

#### æ¨¡å¼ 3: æ‰‹åŠ¨æ‰§è¡Œ

ç”¨æˆ·ç‹¬ç«‹å¤„ç†æ‰€æœ‰æ“ä½œã€‚

- **æµç¨‹**:
  1.  UI æ˜¾ç¤ºæŒ‚è½½è·¯å¾„å’Œç®€è¦è¯´æ˜ã€‚
  2.  ç”¨æˆ·æ‰‹åŠ¨æ‰“å¼€ Steam è®¾ç½® â†’ å­˜å‚¨ â†’ æ·»åŠ åº“æ–‡ä»¶å¤¹ã€‚
- **ä¼˜åŠ¿**: æœ€å¤§ç¨‹åº¦çš„ç”¨æˆ·æ§åˆ¶ï¼Œæ— è‡ªåŠ¨åŒ–æ“ä½œã€‚

---

## 6. ç”¨æˆ·ä½“éªŒæµç¨‹ (User Journey)

1.  **å¯åŠ¨**: ç”¨æˆ·æ‰“å¼€ Decky æ’ä»¶æˆ–æ¡Œé¢åº”ç”¨ã€‚
2.  **æ¦‚è§ˆ**: çœ‹åˆ°å½“å‰å·²æŒ‚è½½å’ŒæœªæŒ‚è½½çš„åˆ†åŒºåˆ—è¡¨ï¼ˆæ˜¾ç¤º Label, Size, Typeï¼‰ã€‚
3.  **é…ç½®**:
     - é€‰ä¸­ä¸€ä¸ª NTFS åˆ†åŒºã€‚
     - é€‰æ‹©é¢„è®¾æ–¹æ¡ˆï¼ˆå¦‚"å¤–æ¥æ¸¸æˆç›˜"ï¼‰ã€‚
     - (é«˜çº§é€‰é¡¹) å¾®è°ƒæŒ‚è½½å‚æ•°ã€‚
4.  **åº”ç”¨**: ç‚¹å‡»"æŒ‚è½½å¹¶æ·»åŠ è‡³ Steam"ã€‚
     - _ç³»ç»Ÿæ£€æŸ¥_: æ˜¯å¦ Dirtyï¼Ÿ-> æç¤ºä¿®å¤ã€‚
     - _æ‰§è¡Œ_: å†™å…¥ fstab -> mountã€‚
     - _æ³¨å…¥_: æç¤º"å³å°†é‡å¯ç•Œé¢" -> æ³¨å…¥ VDF -> é‡å¯ã€‚
5.  **å®Œæˆ**: é‡å¯åï¼Œæ–°ç£ç›˜ç›´æ¥å‡ºç°åœ¨ Steam å­˜å‚¨ç©ºé—´ä¸­ã€‚

---

## 7. UI äº¤äº’å›¾ç¤º

### 7.1 è®¾å¤‡åˆ—è¡¨è§†å›¾

æ˜¾ç¤ºæ‰€æœ‰å·²æ£€æµ‹åˆ°çš„è®¾å¤‡åŠå…¶çŠ¶æ€çš„ä¸»ç•Œé¢ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SteamOS Mount                                    [âš™ï¸] [ğŸ”„]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ’¾ GamesSSD                [NVME] [SSD] [NTFS] [âœ“ Mounted]   â”‚ â”‚
â”‚ â”‚ Device:      /dev/nvme0n1p3                                  â”‚ â”‚
â”‚ â”‚ Size:        512 GB                                          â”‚ â”‚
â”‚ â”‚ Mount Point: /home/deck/Drives/GamesSSD                      â”‚ â”‚
â”‚ â”‚ UUID:        A1B2C3D4-E5F6-7890-ABCD-EF1234567890            â”‚ â”‚
â”‚ â”‚ Steam Library: /home/deck/Drives/GamesSSD/SteamLibrary       â”‚ â”‚
â”‚ â”‚ â–¼ Managed Fstab Entry                                        â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚ â”‚
â”‚ â”‚ â”‚ UUID=... /home/deck/Drives/GamesSSD ntfs3 uid=...    â”‚     â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ â”‚
â”‚ â”‚                [ğŸ® Configure Steam Library]  [Unmount]       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ’¾ PortableDrive          [USB] [HDD] [exFAT] [â—‹ Not Mounted]â”‚ â”‚
â”‚ â”‚ Device: /dev/sda1    Size: 256 GB                            â”‚ â”‚
â”‚ â”‚                                          [Repair] [âœ“ Mount]  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â˜ï¸ OldDrive                           [NTFS] [âš« Offline]    â”‚ â”‚
â”‚ â”‚ Mount Point: /home/deck/Drives/OldDrive                      â”‚ â”‚
â”‚ â”‚              [ğŸ® Open Steam Storage] [âœ• Deconfigure]         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 æŒ‚è½½é…ç½®å¯¹è¯æ¡†

æä¾›æ­£äº¤é€‰é¡¹çš„çµæ´»æŒ‚è½½é…ç½®å¯¹è¯æ¡†ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Mount Configuration                                          [X] â”‚
â”‚ Configure options for "GamesSSD"    [NVME] [SSD] [Fixed] [NTFS]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚ Connection Type                                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚ â”‚ â—‰  Internal/Fixed    â”‚ â”‚ â—‹  Removable         â”‚                â”‚
â”‚ â”‚    Always connected  â”‚ â”‚    Hot-swappable     â”‚                â”‚
â”‚ â”‚    [Recommended]     â”‚ â”‚                      â”‚                â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                                  â”‚
â”‚ Storage Media                                                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚ â”‚ â—‰  Flash (SSD/SD)    â”‚ â”‚ â—‹  Rotational (HDD)  â”‚                â”‚
â”‚ â”‚    Enables TRIM      â”‚ â”‚    No TRIM           â”‚                â”‚
â”‚ â”‚    [Recommended]     â”‚ â”‚                      â”‚                â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                                  â”‚
â”‚ Timeout Settings                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Device Timeout:  [   3  â–¼] seconds                         â”‚   â”‚
â”‚ â”‚                  Boot wait time for internal devices       â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚ (Idle Timeout hidden for Fixed devices)                          â”‚
â”‚                                                                  â”‚
â”‚ Mount Point                                                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ /home/deck/Drives/GamesSSD                                 â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚ â„¹ï¸ Default path allows mounting without root password.           â”‚
â”‚                                                                  â”‚
â”‚ â”Œâ”€ Fstab Entry Preview â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ UUID=A1B2C3D4-E5F6  /home/deck/Drives/GamesSSD  ntfs3      â”‚   â”‚
â”‚ â”‚ uid=1000,gid=1000,umask=000,nofail,rw,noatime,prealloc,    â”‚   â”‚
â”‚ â”‚ discard,x-systemd.device-timeout=3s  0  0                   â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚                                       [Cancel]  [Mount Device]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.3 æŒ‚è½½é€‰é¡¹é€»è¾‘

æ­£äº¤é€‰é¡¹ç”Ÿæˆä»¥ä¸‹æŒ‚è½½å‚æ•°ï¼š

| é€‰é¡¹          | å€¼         | ç”Ÿæˆçš„å‚æ•°                                    |
|---------------|------------|---------------------------------------------|
| è¿æ¥ç±»å‹      | å†…éƒ¨       | `x-systemd.device-timeout=Ns`               |
| è¿æ¥ç±»å‹      | å¯æ‹”æ’     | `noauto,x-systemd.automount,x-systemd.idle-timeout=Ns` |
| å­˜å‚¨ä»‹è´¨      | é—ªå­˜       | `discard`                                   |
| å­˜å‚¨ä»‹è´¨      | æœºæ¢°ç¡¬ç›˜   | _(æ— )_                                      |
| æ–‡ä»¶ç³»ç»Ÿ      | NTFS       | `ntfs3,prealloc`                            |
| æ–‡ä»¶ç³»ç»Ÿ      | exFAT      | `exfat`                                     |

### 7.4 è®¾ç½®å¯¹è¯æ¡†

å…¨å±€åº”ç”¨è®¾ç½®ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Settings                                                     [X] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚ Steam Configuration                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ VDF Path:  [~/.local/share/Steam/steamapps/libraryfolders. â”‚  â”‚
â”‚ â”‚            vdf                                        [ğŸ“] â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚ Status: âœ“ Valid (3 libraries detected)                          â”‚
â”‚                                                                  â”‚
â”‚ Application                                                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ Version: 0.1.4                                             â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚                                                       [Close]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

